[gd_scene load_steps=53 format=2]

[ext_resource path="res://Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Retro Textures/png/BRICK_1A.png" type="Texture" id=2]
[ext_resource path="res://Tilesets/GrayTiles.png" type="Texture" id=3]
[ext_resource path="res://Enemy.tscn" type="PackedScene" id=4]
[ext_resource path="res://Main.gd" type="Script" id=5]
[ext_resource path="res://Pause.tscn" type="PackedScene" id=6]
[ext_resource path="res://art/Now-We-Ride.mp3" type="AudioStream" id=7]
[ext_resource path="res://HUD.tscn" type="PackedScene" id=8]
[ext_resource path="res://Crown.tscn" type="PackedScene" id=10]
[ext_resource path="res://Vignette.tscn" type="PackedScene" id=11]
[ext_resource path="res://Sword.tscn" type="PackedScene" id=12]
[ext_resource path="res://art/gameover.wav" type="AudioStream" id=13]
[ext_resource path="res://art/mixkit-retro-game-notification-212.wav" type="AudioStream" id=14]
[ext_resource path="res://art/crates_study_x2.png" type="Texture" id=15]
[ext_resource path="res://sprites/objects/objects.png" type="Texture" id=16]
[ext_resource path="res://Coin.tscn" type="PackedScene" id=17]

[sub_resource type="TileSet" id=1]
0/name = "GrayTiles.png 0"
0/texture = ExtResource( 3 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( -32, -608, 64, 640 )
0/tile_mode = 1
0/autotile/bitmask_mode = 0
0/autotile/bitmask_flags = [  ]
0/autotile/icon_coordinate = Vector2( 0, 0 )
0/autotile/tile_size = Vector2( 32, 32 )
0/autotile/spacing = 0
0/autotile/occluder_map = [  ]
0/autotile/navpoly_map = [  ]
0/autotile/priority_map = [  ]
0/autotile/z_index_map = [  ]
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape_one_way = false
0/shape_one_way_margin = 0.0
0/shapes = [  ]
0/z_index = 0

[sub_resource type="ConvexPolygonShape2D" id=10]
points = PoolVector2Array( 9.63795, 9.89301, 9.47644, 0.202667, 22.2354, 0.202667, 22.3969, 9.89301, 31.2797, 10.0545, 30.9567, 21.1984, 0.755142, 21.1984, 0.916656, 10.539 )

[sub_resource type="ConvexPolygonShape2D" id=11]
points = PoolVector2Array( 21.7728, 0.525681, 22.2573, 9.89301, 31.4631, 10.0545, 31.3016, 21.8444, 22.0958, 22.3289, 21.9343, 31.3732, 9.98286, 30.4042, 9.82137, 0.848694 )

[sub_resource type="ConvexPolygonShape2D" id=15]
points = PoolVector2Array( 16, 32, 0, 32, 0, 16, 0, 16, 32, 16, 32, 32, 32, 32 )

[sub_resource type="ConvexPolygonShape2D" id=3]
points = PoolVector2Array( 0.214493, 10.3589, 21.3996, 10.7483, 21.867, 31.544, 10.3397, 31.6219, 10.1061, 21.6524, 0.0587234, 21.6524 )

[sub_resource type="ConvexPolygonShape2D" id=4]
points = PoolVector2Array( 10.6727, 10.0842, 31.6684, 10.4072, 31.3454, 20.0975, 22.0892, 20.6399, 22.0114, 30.843, 9.93895, 31.2325 )

[sub_resource type="ConvexPolygonShape2D" id=5]
points = PoolVector2Array( 10.3294, 0.353859, 21.545, 0.43174, 21.7787, 9.54446, 31.826, 9.77812, 31.3587, 21.4611, 10.3294, 21.0717 )

[sub_resource type="ConvexPolygonShape2D" id=6]
points = PoolVector2Array( 10.1849, 10.1676, 10.1071, 0.353859, 21.8679, 0.43174, 21.5564, 21.3832, 0.293354, 21.4611, 0.215473, 10.4791 )

[sub_resource type="ConvexPolygonShape2D" id=7]
points = PoolVector2Array( 0.225853, 10.3834, 31.5362, 10.3055, 31.692, 21.9106, 0.0700836, 22.0664 )

[sub_resource type="ConvexPolygonShape2D" id=8]
points = PoolVector2Array( 10.2839, 0.755943, 21.7332, 0.833824, 21.7332, 31.2096, 10.5176, 31.2875 )

[sub_resource type="ConvexPolygonShape2D" id=12]
points = PoolVector2Array( 31.9476, 10.9235, 31.6246, 22.0674, 21.7728, 21.9059, 21.2883, 31.4347, 10.3059, 31.1117, 10.4674, 21.7444, 0.615555, 21.0984, 0.454041, 10.439 )

[sub_resource type="ConvexPolygonShape2D" id=13]
points = PoolVector2Array( 9.96097, 9.95448, 9.96097, 0.587158, 22.2354, 0.748672, 22.0739, 32, 10.284, 31.4347, 9.79945, 21.4214, 0.27063, 20.6138, 0.593643, 10.2775 )

[sub_resource type="TileSet" id=9]
2/name = "TopRight"
2/texture = ExtResource( 3 )
2/tex_offset = Vector2( 0, 0 )
2/modulate = Color( 1, 1, 1, 1 )
2/region = Rect2( 32, 64, 32, 32 )
2/tile_mode = 0
2/occluder_offset = Vector2( 0, 0 )
2/navigation_offset = Vector2( 0, 0 )
2/shape_offset = Vector2( 0, 0 )
2/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
2/shape = SubResource( 3 )
2/shape_one_way = false
2/shape_one_way_margin = 1.0
2/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 3 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
2/z_index = 0
3/name = "TopLeft"
3/texture = ExtResource( 3 )
3/tex_offset = Vector2( 0, 0 )
3/modulate = Color( 1, 1, 1, 1 )
3/region = Rect2( 0, 64, 32, 32 )
3/tile_mode = 0
3/occluder_offset = Vector2( 0, 0 )
3/navigation_offset = Vector2( 0, 0 )
3/shape_offset = Vector2( 0, 0 )
3/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
3/shape = SubResource( 4 )
3/shape_one_way = false
3/shape_one_way_margin = 1.0
3/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 4 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
3/z_index = 0
4/name = "BottomLeft"
4/texture = ExtResource( 3 )
4/tex_offset = Vector2( 0, 0 )
4/modulate = Color( 1, 1, 1, 1 )
4/region = Rect2( 0, 96, 32, 32 )
4/tile_mode = 0
4/occluder_offset = Vector2( 0, 0 )
4/navigation_offset = Vector2( 0, 0 )
4/shape_offset = Vector2( 0, 0 )
4/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
4/shape = SubResource( 5 )
4/shape_one_way = false
4/shape_one_way_margin = 1.0
4/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 5 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
4/z_index = 0
5/name = "BottomRight"
5/texture = ExtResource( 3 )
5/tex_offset = Vector2( 0, 0 )
5/modulate = Color( 1, 1, 1, 1 )
5/region = Rect2( 32, 96, 32, 32 )
5/tile_mode = 0
5/occluder_offset = Vector2( 0, 0 )
5/navigation_offset = Vector2( 0, 0 )
5/shape_offset = Vector2( 0, 0 )
5/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
5/shape = SubResource( 6 )
5/shape_one_way = false
5/shape_one_way_margin = 1.0
5/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 6 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
5/z_index = 0
6/name = "Top"
6/texture = ExtResource( 3 )
6/tex_offset = Vector2( 0, 0 )
6/modulate = Color( 1, 1, 1, 1 )
6/region = Rect2( 64, 64, 32, 32 )
6/tile_mode = 0
6/occluder_offset = Vector2( 0, 0 )
6/navigation_offset = Vector2( 0, 0 )
6/shape_offset = Vector2( 0, 0 )
6/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
6/shape = SubResource( 7 )
6/shape_one_way = false
6/shape_one_way_margin = 1.0
6/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 7 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
6/z_index = 0
7/name = "Side"
7/texture = ExtResource( 3 )
7/tex_offset = Vector2( 0, 0 )
7/modulate = Color( 1, 1, 1, 1 )
7/region = Rect2( 64, 96, 32, 32 )
7/tile_mode = 0
7/occluder_offset = Vector2( 0, 0 )
7/navigation_offset = Vector2( 0, 0 )
7/shape_offset = Vector2( 0, 0 )
7/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
7/shape = SubResource( 8 )
7/shape_one_way = false
7/shape_one_way_margin = 1.0
7/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 8 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
7/z_index = 0
8/name = "T"
8/texture = ExtResource( 3 )
8/tex_offset = Vector2( 0, 0 )
8/modulate = Color( 1, 1, 1, 1 )
8/region = Rect2( 64, 128, 32, 32 )
8/tile_mode = 0
8/occluder_offset = Vector2( 0, 0 )
8/navigation_offset = Vector2( 0, 0 )
8/shape_offset = Vector2( 0, 0 )
8/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
8/shape = SubResource( 12 )
8/shape_one_way = false
8/shape_one_way_margin = 1.0
8/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 12 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
8/z_index = 0
9/name = "GrayTiles.png 9"
9/texture = ExtResource( 3 )
9/tex_offset = Vector2( 0, 0 )
9/modulate = Color( 1, 1, 1, 1 )
9/region = Rect2( 96, 128, 32, 32 )
9/tile_mode = 0
9/occluder_offset = Vector2( 0, 0 )
9/navigation_offset = Vector2( 0, 0 )
9/shape_offset = Vector2( 0, 0 )
9/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
9/shape = SubResource( 13 )
9/shape_one_way = false
9/shape_one_way_margin = 1.0
9/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 13 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
9/z_index = 0
10/name = "GrayTiles.png 10"
10/texture = ExtResource( 3 )
10/tex_offset = Vector2( 0, 0 )
10/modulate = Color( 1, 1, 1, 1 )
10/region = Rect2( 96, 160, 32, 32 )
10/tile_mode = 0
10/occluder_offset = Vector2( 0, 0 )
10/navigation_offset = Vector2( 0, 0 )
10/shape_offset = Vector2( 0, 0 )
10/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
10/shape = SubResource( 10 )
10/shape_one_way = false
10/shape_one_way_margin = 1.0
10/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 10 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
10/z_index = 0
11/name = "GrayTiles.png 11"
11/texture = ExtResource( 3 )
11/tex_offset = Vector2( 0, 0 )
11/modulate = Color( 1, 1, 1, 1 )
11/region = Rect2( 64, 160, 32, 32 )
11/tile_mode = 0
11/occluder_offset = Vector2( 0, 0 )
11/navigation_offset = Vector2( 0, 0 )
11/shape_offset = Vector2( 0, 0 )
11/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
11/shape = SubResource( 11 )
11/shape_one_way = false
11/shape_one_way_margin = 1.0
11/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 11 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
11/z_index = 0
12/name = "Door"
12/texture = ExtResource( 3 )
12/tex_offset = Vector2( 0, 0 )
12/modulate = Color( 1, 1, 1, 1 )
12/region = Rect2( 64, 256, 32, 32 )
12/tile_mode = 0
12/occluder_offset = Vector2( 0, 0 )
12/navigation_offset = Vector2( 0, 0 )
12/shape_offset = Vector2( 0, 0 )
12/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
12/shape = SubResource( 15 )
12/shape_one_way = false
12/shape_one_way_margin = 1.0
12/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 15 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
12/z_index = 0
13/name = "GrayTiles.png 13"
13/texture = ExtResource( 3 )
13/tex_offset = Vector2( 0, 0 )
13/modulate = Color( 1, 1, 1, 1 )
13/region = Rect2( 128, 96, 32, 32 )
13/tile_mode = 0
13/occluder_offset = Vector2( 0, 0 )
13/navigation_offset = Vector2( 0, 0 )
13/shape_offset = Vector2( 0, 0 )
13/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
13/shape_one_way = false
13/shape_one_way_margin = 0.0
13/shapes = [  ]
13/z_index = 0
14/name = "GrayTiles.png 14"
14/texture = ExtResource( 3 )
14/tex_offset = Vector2( 0, 0 )
14/modulate = Color( 1, 1, 1, 1 )
14/region = Rect2( 160, 64, 32, 32 )
14/tile_mode = 1
14/autotile/bitmask_mode = 0
14/autotile/bitmask_flags = [  ]
14/autotile/icon_coordinate = Vector2( 0, 0 )
14/autotile/tile_size = Vector2( 32, 32 )
14/autotile/spacing = 0
14/autotile/occluder_map = [  ]
14/autotile/navpoly_map = [  ]
14/autotile/priority_map = [  ]
14/autotile/z_index_map = [  ]
14/occluder_offset = Vector2( 0, 0 )
14/navigation_offset = Vector2( 0, 0 )
14/shape_offset = Vector2( 0, 0 )
14/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
14/shape_one_way = false
14/shape_one_way_margin = 0.0
14/shapes = [  ]
14/z_index = 0
15/name = "GrayTiles.png 15"
15/texture = ExtResource( 3 )
15/tex_offset = Vector2( 0, 0 )
15/modulate = Color( 1, 1, 1, 1 )
15/region = Rect2( 32, 256, 32, 32 )
15/tile_mode = 0
15/occluder_offset = Vector2( 0, 0 )
15/navigation_offset = Vector2( 0, 0 )
15/shape_offset = Vector2( 0, 0 )
15/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
15/shape_one_way = false
15/shape_one_way_margin = 0.0
15/shapes = [  ]
15/z_index = 0

[sub_resource type="ConvexPolygonShape2D" id=30]
points = PoolVector2Array( 4.97746, 12.5327, 18.4664, 4.62543, 34.9787, 8.3465, 41.2581, 18.3469, 42.1883, 37.6501, 36.3741, 46.7202, 33.5833, 55.7904, 30.0948, 60.9069, 12.4196, 60.6743, 9.86139, 51.139, 1.0238, 37.8826 )

[sub_resource type="ConvexPolygonShape2D" id=31]
points = PoolVector2Array( 2.44977, 4.42047, 15.7061, 4.42047, 15.4736, 31.3983, 1.75208, 30.7007 )

[sub_resource type="ConvexPolygonShape2D" id=32]
points = PoolVector2Array( 0, 0.465546, 30.9387, 0.930695, 32, 16, 0.472321, 15.815 )

[sub_resource type="ConvexPolygonShape2D" id=33]
points = PoolVector2Array( 6.77209, 7.1913, 26.3078, 6.02846, 32.8197, 14.6335, 33.75, 28.5875, 29.3312, 35.0994, 6.30695, 35.7972, 2.81842, 22.5408 )

[sub_resource type="ConvexPolygonShape2D" id=34]
points = PoolVector2Array( 2.95956, 23.1386, 7.37836, 11.7428, 16.4485, 9.18454, 22.0302, 22.2083, 22.0302, 39.1858, 16.9136, 46.3954, 8.30862, 45.2326 )

[sub_resource type="TileSet" id=35]
0/name = "Tree"
0/texture = ExtResource( 16 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 2, 76, 44, 64 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 2, 2 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 2, 2 )
0/shape = SubResource( 30 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 30 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 2, 2 )
} ]
0/z_index = 0
1/name = "Bed"
1/texture = ExtResource( 16 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 175, 30, 18, 34 )
1/tile_mode = 0
1/occluder_offset = Vector2( 0, 0 )
1/navigation_offset = Vector2( 0, 0 )
1/shape_offset = Vector2( 0, 0 )
1/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
1/shape = SubResource( 31 )
1/shape_one_way = false
1/shape_one_way_margin = 1.0
1/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 31 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
1/z_index = 0
2/name = "Bench"
2/texture = ExtResource( 16 )
2/tex_offset = Vector2( 0, 0 )
2/modulate = Color( 1, 1, 1, 1 )
2/region = Rect2( 160, 0, 32, 16 )
2/tile_mode = 0
2/occluder_offset = Vector2( 0, 0 )
2/navigation_offset = Vector2( 0, 0 )
2/shape_offset = Vector2( 0, 0 )
2/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
2/shape = SubResource( 32 )
2/shape_one_way = false
2/shape_one_way_margin = 1.0
2/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 32 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
2/z_index = 0
3/name = "Bush"
3/texture = ExtResource( 16 )
3/tex_offset = Vector2( 0, 0 )
3/modulate = Color( 1, 1, 1, 1 )
3/region = Rect2( 93, 107, 38, 42 )
3/tile_mode = 0
3/occluder_offset = Vector2( 0, 0 )
3/navigation_offset = Vector2( 0, 0 )
3/shape_offset = Vector2( 0, 0 )
3/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
3/shape = SubResource( 33 )
3/shape_one_way = false
3/shape_one_way_margin = 1.0
3/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 33 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
3/z_index = 0
4/name = "Tree2"
4/texture = ExtResource( 16 )
4/tex_offset = Vector2( 0, 0 )
4/modulate = Color( 1, 1, 1, 1 )
4/region = Rect2( 131, 94, 27, 50 )
4/tile_mode = 0
4/occluder_offset = Vector2( 0, 0 )
4/navigation_offset = Vector2( 0, 0 )
4/shape_offset = Vector2( 0, 0 )
4/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
4/shape = SubResource( 34 )
4/shape_one_way = false
4/shape_one_way_margin = 1.0
4/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 34 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
4/z_index = 0

[sub_resource type="ConvexPolygonShape2D" id=29]
points = PoolVector2Array( 2.80554, 1.5, 253.5, 3.58331, 255.583, 252.194, 0.722229, 253.583 )

[sub_resource type="TileSet" id=36]
0/name = "Box"
0/texture = ExtResource( 15 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( -1, 1, 257, 256 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 29 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 29 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0

[sub_resource type="GDScript" id=40]
script/source = "extends Area2D

signal collected_coin

func _ready():
	$AnimatedSprite.play()
	
	
func _on_Area2D_body_entered(body):
	if \"Player\" in body.name:
		emit_signal(\"collected_coin\")
		$coin_pickup.play()
		$AnimatedSprite.hide()
		yield(get_tree().create_timer(1), \"timeout\")
		queue_free()
"

[sub_resource type="GDScript" id=41]
script/source = "extends Area2D

signal collected_coin

func _ready():
	$AnimatedSprite.play()
	
	
func _on_Area2D_body_entered(body):
	if \"Player\" in body.name:
		emit_signal(\"collected_coin\")
		$coin_pickup.play()
		$AnimatedSprite.hide()
		yield(get_tree().create_timer(1), \"timeout\")
		queue_free()
"

[sub_resource type="GDScript" id=42]
script/source = "extends Area2D

signal collected_coin

func _ready():
	$AnimatedSprite.play()
	
	
func _on_Area2D_body_entered(body):
	if \"Player\" in body.name:
		emit_signal(\"collected_coin\")
		$coin_pickup.play()
		$AnimatedSprite.hide()
		yield(get_tree().create_timer(1), \"timeout\")
		queue_free()
"

[sub_resource type="Curve2D" id=16]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 608, 938, 0, 0, 0, 0, 607, 486 )
}

[sub_resource type="Curve2D" id=2]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 855, 602, 0, 0, 0, 0, 855, 946 )
}

[sub_resource type="Curve2D" id=17]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 1117, 1067, 0, 0, 0, 0, 1118, 485 )
}

[sub_resource type="Curve2D" id=18]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 610, 319, 0, 0, 0, 0, 1129, 320 )
}

[sub_resource type="Curve2D" id=19]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 530, 1129, 0, 0, 0, 0, -42, 1125 )
}

[sub_resource type="Curve2D" id=21]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 860, 1531, 0, 0, 0, 0, 624, 1533 )
}

[sub_resource type="Curve2D" id=22]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 383, 1803, 0, 0, 0, 0, 383, 1567 )
}

[sub_resource type="Curve2D" id=23]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 287, 1510, 0, 0, 0, 0, -117, 1510 )
}

[sub_resource type="Curve2D" id=25]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 259, 1384, 0, 0, 0, 0, 259, 1742, 0, 0, 0, 0, 708, 1742 )
}

[sub_resource type="Curve2D" id=26]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 395, 1277, 0, 0, 0, 0, -48, 1274 )
}

[sub_resource type="Curve2D" id=38]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 1011, 1793, 0, 0, 0, 0, 1009, 1337 )
}

[sub_resource type="Curve2D" id=39]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, -99, 1821, 0, 0, 0, 0, 204, 1822 )
}

[node name="Main" type="Node"]
script = ExtResource( 5 )

[node name="bg" type="ColorRect" parent="."]
margin_left = -572.0
margin_top = -228.0
margin_right = 1808.0
margin_bottom = 2797.0
color = Color( 0.168627, 0.168627, 0.168627, 1 )
__meta__ = {
"_edit_group_": true
}

[node name="TextureRect" type="TextureRect" parent="."]
margin_left = -25.0
margin_top = 500.0
margin_right = 1175.0
margin_bottom = 1900.0
rect_pivot_offset = Vector2( 850, 189 )
texture = ExtResource( 2 )
stretch_mode = 2

[node name="TextureRect2" type="TextureRect" parent="."]
margin_left = -150.0
margin_top = 1075.0
margin_right = -25.0
margin_bottom = 1875.0
texture = ExtResource( 2 )
stretch_mode = 2
__meta__ = {
"_edit_group_": true
}

[node name="TextureRect3" type="TextureRect" parent="."]
margin_left = 485.0
margin_top = 117.0
margin_right = 1245.0
margin_bottom = 502.0
texture = ExtResource( 2 )
stretch_mode = 2
__meta__ = {
"_edit_group_": true
}

[node name="TextureRect4" type="TextureRect" parent="."]
margin_left = 805.0
margin_top = 53.0
margin_right = 925.0
margin_bottom = 117.0
texture = ExtResource( 2 )
stretch_mode = 2
__meta__ = {
"_edit_group_": true
}

[node name="TextureRect6" type="TextureRect" parent="."]
margin_left = 600.0
margin_top = 1892.0
margin_right = 1175.0
margin_bottom = 2032.0
texture = ExtResource( 2 )
stretch_mode = 2
__meta__ = {
"_edit_group_": true
}

[node name="TextureRect5" type="TextureRect" parent="."]
margin_left = 1170.0
margin_top = 1316.0
margin_right = 1310.0
margin_bottom = 2016.0
texture = ExtResource( 2 )
stretch_mode = 2
__meta__ = {
"_edit_group_": true
}

[node name="TextureRect7" type="TextureRect" parent="."]
margin_left = 600.0
margin_top = 2020.0
margin_right = 740.0
margin_bottom = 2365.0
texture = ExtResource( 2 )
stretch_mode = 2
__meta__ = {
"_edit_group_": true
}

[node name="TextureRect8" type="TextureRect" parent="."]
margin_left = 490.0
margin_top = 2355.0
margin_right = 870.0
margin_bottom = 2530.0
texture = ExtResource( 2 )
stretch_mode = 2
__meta__ = {
"_edit_group_": true
}

[node name="Floor" type="TileMap" parent="."]
position = Vector2( -1, 0 )
tile_set = SubResource( 1 )
format = 1

[node name="Walls" type="TileMap" parent="."]
scale = Vector2( 2, 2 )
tile_set = SubResource( 9 )
cell_size = Vector2( 32, 32 )
format = 1
tile_data = PoolIntArray( 12, 3, 0, 13, 12, 0, 14, 2, 0, 65543, 3, 0, 65544, 6, 0, 65545, 6, 0, 65546, 6, 0, 65547, 6, 0, 65548, 5, 0, 65550, 4, 0, 65551, 6, 0, 65552, 6, 0, 65553, 6, 0, 65554, 6, 0, 65555, 2, 0, 131079, 7, 0, 131091, 7, 0, 196615, 7, 0, 196627, 7, 0, 262151, 7, 0, 262163, 7, 0, 327687, 7, 0, 327699, 7, 0, 393223, 7, 0, 393235, 7, 0, 524287, 3, 0, 458752, 6, 0, 458753, 6, 0, 458754, 6, 0, 458755, 6, 0, 458756, 6, 0, 458757, 6, 0, 458758, 6, 0, 458759, 10, 0, 458760, 2, 0, 458762, 3, 0, 458763, 6, 0, 458764, 6, 0, 458765, 6, 0, 458766, 6, 0, 458767, 6, 0, 458768, 2, 0, 458770, 3, 0, 458771, 5, 0, 589823, 7, 0, 524296, 7, 0, 524298, 7, 0, 524304, 7, 0, 524306, 7, 0, 655359, 7, 0, 589832, 7, 0, 589834, 7, 0, 589840, 7, 0, 589842, 7, 0, 720895, 7, 0, 655368, 7, 0, 655370, 7, 0, 655376, 7, 0, 655378, 7, 0, 786431, 7, 0, 720904, 7, 0, 720906, 7, 0, 720912, 7, 0, 720914, 7, 0, 851967, 7, 0, 786440, 7, 0, 786450, 7, 0, 917503, 7, 0, 851976, 7, 0, 851986, 7, 0, 983039, 7, 0, 917512, 7, 0, 917514, 7, 0, 917520, 7, 0, 917522, 7, 0, 1048575, 7, 0, 983048, 7, 0, 983050, 7, 0, 983056, 7, 0, 983058, 7, 0, 1114109, 3, 0, 1114110, 6, 0, 1114111, 5, 0, 1048578, 6, 0, 1048579, 6, 0, 1048580, 6, 0, 1048581, 6, 0, 1048584, 4, 0, 1048585, 6, 0, 1048586, 10, 0, 1048587, 6, 0, 1048588, 6, 0, 1048589, 6, 0, 1048590, 6, 0, 1048591, 6, 0, 1048592, 5, 0, 1048594, 7, 0, 1179645, 7, 0, 1114130, 7, 0, 1245181, 7, 0, 1245183, 3, 0, 1179648, 6, 0, 1179649, 6, 0, 1179650, 6, 0, 1179651, 6, 0, 1179652, 6, 0, 1179653, 8, 0, 1179654, 6, 0, 1179655, 6, 0, 1179656, 6, 0, 1179657, 6, 0, 1179658, 6, 0, 1179659, 6, 0, 1179660, 6, 0, 1179661, 6, 0, 1179662, 6, 0, 1179663, 6, 0, 1179664, 2, 0, 1179666, 7, 0, 1310717, 7, 0, 1310719, 7, 0, 1245189, 7, 0, 1245200, 7, 0, 1245202, 7, 0, 1376253, 7, 0, 1376255, 7, 0, 1310725, 7, 0, 1310736, 7, 0, 1310738, 4, 0, 1310739, 6, 0, 1310740, 2, 0, 1441789, 7, 0, 1441791, 7, 0, 1376261, 7, 0, 1376263, 7, 0, 1376272, 7, 0, 1376276, 7, 0, 1507325, 7, 0, 1507327, 4, 0, 1441792, 6, 0, 1441793, 6, 0, 1441794, 6, 0, 1441795, 6, 0, 1441796, 6, 0, 1441797, 5, 0, 1441799, 7, 0, 1441808, 7, 0, 1441812, 7, 0, 1572861, 7, 0, 1507335, 7, 0, 1507344, 7, 0, 1507346, 7, 0, 1507348, 7, 0, 1638397, 7, 0, 1638399, 3, 0, 1572864, 6, 0, 1572865, 6, 0, 1572866, 6, 0, 1572867, 6, 0, 1572868, 6, 0, 1572869, 2, 0, 1572871, 7, 0, 1572880, 7, 0, 1572882, 7, 0, 1572884, 7, 0, 1703933, 7, 0, 1703935, 7, 0, 1638405, 7, 0, 1638407, 7, 0, 1638416, 7, 0, 1638418, 7, 0, 1638420, 7, 0, 1769469, 7, 0, 1769471, 7, 0, 1703943, 7, 0, 1703954, 7, 0, 1703956, 7, 0, 1835005, 7, 0, 1769479, 7, 0, 1769490, 7, 0, 1769492, 7, 0, 1900541, 7, 0, 1835013, 7, 0, 1835015, 7, 0, 1835024, 7, 0, 1835026, 7, 0, 1835028, 7, 0, 1966077, 4, 0, 1966078, 6, 0, 1966079, 6, 0, 1900544, 6, 0, 1900545, 6, 0, 1900546, 6, 0, 1900547, 6, 0, 1900548, 6, 0, 1900549, 10, 0, 1900550, 6, 0, 1900551, 10, 0, 1900552, 6, 0, 1900553, 8, 0, 1900554, 6, 0, 1900555, 6, 0, 1900556, 6, 0, 1900557, 6, 0, 1900558, 6, 0, 1900559, 6, 0, 1900560, 10, 0, 1900561, 6, 0, 1900562, 5, 0, 1900564, 7, 0, 1966089, 7, 0, 1966100, 7, 0, 2031625, 7, 0, 2031627, 3, 0, 2031628, 6, 0, 2031629, 6, 0, 2031630, 6, 0, 2031631, 6, 0, 2031632, 6, 0, 2031633, 6, 0, 2031634, 6, 0, 2031635, 6, 0, 2031636, 5, 0, 2097161, 7, 0, 2097163, 7, 0, 2162697, 7, 0, 2162699, 7, 0, 2228233, 7, 0, 2228235, 7, 0, 2293769, 7, 0, 2293771, 7, 0, 2359303, 3, 0, 2359304, 6, 0, 2359305, 5, 0, 2359307, 4, 0, 2359308, 6, 0, 2359309, 2, 0, 2424839, 7, 0, 2424845, 7, 0, 2490375, 7, 0, 2490381, 7, 0, 2555911, 4, 0, 2555912, 6, 0, 2555913, 6, 0, 2555914, 6, 0, 2555915, 6, 0, 2555916, 6, 0, 2555917, 5, 0 )

[node name="Trees" type="TileMap" parent="."]
scale = Vector2( 2, 2 )
tile_set = SubResource( 35 )
format = 1
tile_data = PoolIntArray( 65541, 2, 0, 65544, 2, 0, 196613, 2, 0, 196616, 2, 0, 262144, 1, 0, 262145, 1, 0, 262146, 1, 0, 262147, 1, 0, 262150, 2, 0, 262151, 2, 0, 655360, 1, 0, 655361, 2, 0, 655362, 1, 0, 851968, 2, 0 )

[node name="box" type="TileMap" parent="."]
scale = Vector2( 0.1, 0.1 )
tile_set = SubResource( 36 )
format = 1
tile_data = PoolIntArray( 0, 0, 0, 3932348, 0, 0, 4194492, 0, 0, 4456636, 0, 0, 5242959, 0, 0, 5308429, 0, 0, 5308448, 0, 0, 5308469, 0, 0, 5308575, 0, 0, 5505103, 0, 0, 5570719, 0, 0, 5832863, 0, 0, 10420311, 0, 0, 10420315, 0, 0, 10420319, 0, 0, 11272170, 0, 0, 11534314, 0, 0, 11993255, 0, 0, 11993259, 0, 0, 11993263, 0, 0, 11993267, 0, 0, 12255401, 0, 0, 12255405, 0, 0, 12255409, 0, 0, 12517534, 0, 0, 12779678, 0, 0, 13041822, 0, 0, 13172744, 0, 0, 13172770, 0, 0, 13500489, 0, 0, 13500493, 0, 0, 13762637, 0, 0, 16515070, 0, 0, 16449538, 0, 0 )

[node name="Gameover" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 13 )

[node name="LevelWon" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 14 )

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 7 )

[node name="Coin9" parent="." instance=ExtResource( 17 )]
position = Vector2( 545, 160 )
script = SubResource( 40 )

[node name="Coin10" parent="." instance=ExtResource( 17 )]
position = Vector2( 1250, 1950 )
script = SubResource( 41 )

[node name="Coin11" parent="." instance=ExtResource( 17 )]
position = Vector2( 1001, 1353 )
script = SubResource( 42 )

[node name="Coin12" parent="." instance=ExtResource( 17 )]
position = Vector2( 84, 1632 )

[node name="Coin5" parent="." instance=ExtResource( 17 )]
position = Vector2( 674, 1976 )
script = SubResource( 40 )

[node name="Coin6" parent="." instance=ExtResource( 17 )]
position = Vector2( 211, 587 )
script = SubResource( 41 )

[node name="Coin7" parent="." instance=ExtResource( 17 )]
position = Vector2( 1121, 1796 )
script = SubResource( 42 )

[node name="Coin8" parent="." instance=ExtResource( 17 )]
position = Vector2( 615, 943 )

[node name="Coin4" parent="." instance=ExtResource( 17 )]
position = Vector2( 261, 1126 )
script = SubResource( 40 )

[node name="Coin3" parent="." instance=ExtResource( 17 )]
position = Vector2( 987, 551 )
script = SubResource( 41 )

[node name="Coin2" parent="." instance=ExtResource( 17 )]
position = Vector2( 90, 585 )
script = SubResource( 42 )

[node name="Coin" parent="." instance=ExtResource( 17 )]
position = Vector2( 1189, 183 )

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 864, 100 )
__meta__ = {
"_edit_group_": true
}

[node name="Camera2D" type="Camera2D" parent="Player"]

[node name="Sword" parent="." instance=ExtResource( 12 )]
position = Vector2( 664, 2419 )

[node name="Crown" parent="." instance=ExtResource( 10 )]
position = Vector2( 442, 518 )

[node name="nighttime" type="ColorRect" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -571.0
margin_top = -227.0
margin_right = 770.0
margin_bottom = 2199.0
color = Color( 0.0901961, 0.0196078, 0.180392, 0.352941 )

[node name="StartPosition" type="Position2D" parent="."]
position = Vector2( 864, 98 )

[node name="Enemies" type="Node" parent="."]

[node name="Path2D" type="Path2D" parent="Enemies"]
position = Vector2( 2, 0 )
curve = SubResource( 16 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D"]
position = Vector2( 608, 938 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D/PathFollow2D" instance=ExtResource( 4 )]
detect_radius = 125

[node name="Path2D2" type="Path2D" parent="Enemies"]
position = Vector2( 4, 0 )
curve = SubResource( 2 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D2"]
position = Vector2( 855, 602 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D2/PathFollow2D" instance=ExtResource( 4 )]
start_anim = 1
detect_radius = 175

[node name="Path2D3" type="Path2D" parent="Enemies"]
position = Vector2( 8, 0 )
curve = SubResource( 17 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D3"]
position = Vector2( 1117, 1067 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D3/PathFollow2D" instance=ExtResource( 4 )]
detect_radius = 125

[node name="Path2D4" type="Path2D" parent="Enemies"]
position = Vector2( 4, 0 )
curve = SubResource( 18 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D4"]
position = Vector2( 610, 319 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D4/PathFollow2D" instance=ExtResource( 4 )]
start_anim = 3
detect_radius = 125

[node name="Path2D5" type="Path2D" parent="Enemies"]
position = Vector2( 8, 0 )
curve = SubResource( 19 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D5"]
position = Vector2( 530, 1129 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D5/PathFollow2D" instance=ExtResource( 4 )]
start_anim = 2
detect_radius = 125

[node name="Path2D7" type="Path2D" parent="Enemies"]
position = Vector2( 24, 0 )
curve = SubResource( 21 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D7"]
position = Vector2( 860, 1531 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D7/PathFollow2D" instance=ExtResource( 4 )]
start_anim = 2
detect_radius = 200

[node name="Path2D8" type="Path2D" parent="Enemies"]
position = Vector2( 36, 0 )
curve = SubResource( 22 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D8"]
position = Vector2( 383, 1803 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D8/PathFollow2D" instance=ExtResource( 4 )]
detect_radius = 125

[node name="Path2D9" type="Path2D" parent="Enemies"]
position = Vector2( 72, 0 )
curve = SubResource( 23 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D9"]
position = Vector2( 287, 1510 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D9/PathFollow2D" instance=ExtResource( 4 )]
start_anim = 2
detect_radius = 125

[node name="Path2D11" type="Path2D" parent="Enemies"]
position = Vector2( 288, 0 )
curve = SubResource( 25 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D11"]
position = Vector2( 259, 1384 )
rotate = false
loop = false

[node name="Enemy8" parent="Enemies/Path2D11/PathFollow2D" instance=ExtResource( 4 )]
start_anim = 1
detect_radius = 125

[node name="Path2D12" type="Path2D" parent="Enemies"]
position = Vector2( 576, 0 )
curve = SubResource( 26 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D12"]
position = Vector2( 395, 1277 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D12/PathFollow2D" instance=ExtResource( 4 )]
start_anim = 2
detect_radius = 125

[node name="Path2D13" type="Path2D" parent="Enemies"]
position = Vector2( 108, 0 )
curve = SubResource( 38 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D13"]
position = Vector2( 1011, 1793 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D13/PathFollow2D" instance=ExtResource( 4 )]
detect_radius = 125

[node name="Path2D14" type="Path2D" parent="Enemies"]
position = Vector2( 72, 0 )
curve = SubResource( 39 )

[node name="PathFollow2D" type="PathFollow2D" parent="Enemies/Path2D14"]
position = Vector2( -99, 1821 )
rotate = false
loop = false

[node name="Enemy" parent="Enemies/Path2D14/PathFollow2D" instance=ExtResource( 4 )]
start_anim = 3
detect_radius = 125

[node name="ScoreTimer" type="Timer" parent="."]

[node name="StartTimer" type="Timer" parent="."]
wait_time = 2.0

[node name="game_over" type="ColorRect" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -572.0
margin_top = -223.0
margin_right = 769.0
margin_bottom = 2201.0
color = Color( 0, 0, 0, 0.470588 )

[node name="Vignette" parent="." instance=ExtResource( 11 )]

[node name="HUD" parent="." instance=ExtResource( 8 )]

[node name="Pause" parent="." instance=ExtResource( 6 )]

[connection signal="treasure_collected" from="Sword" to="." method="_on_Sword_treasure_collected"]
[connection signal="end_game" from="Enemies/Path2D/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D2/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D3/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D4/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D5/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D7/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D8/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D9/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D11/PathFollow2D/Enemy8" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D12/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D13/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="end_game" from="Enemies/Path2D14/PathFollow2D/Enemy" to="." method="_on_Enemy_end_game"]
[connection signal="timeout" from="ScoreTimer" to="." method="_on_ScoreTimer_timeout"]
[connection signal="timeout" from="StartTimer" to="." method="_on_StartTimer_timeout"]
[connection signal="start_game" from="HUD" to="." method="_on_HUD_start_game"]
